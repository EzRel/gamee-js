!function(){var a=function(){var a=this,b={};a.on=function(a,c,d){if(!(arguments.length<2||"string"!=typeof a||"function"!=typeof c)){var e=c.toString();"undefined"!=typeof b[a]?"undefined"==typeof b[a].callbacks[e]?b[a].callbacks[e]={cb:c,once:!!d}:"boolean"==typeof d&&(b[a].callbacks[e].once=d):(b[a]={callbacks:{}},b[a].callbacks[e]={cb:c,once:!!d})}},a.once=function(b,c){a.on(b,c,!0)},a.off=function(a,c){if("string"==typeof a&&"undefined"!=typeof b[a])if("function"==typeof c){var d=c.toString(),e=b[a].callbacks[d];"undefined"!=typeof e&&delete b[a].callbacks[d]}else delete b[a]},a.trigger=function(c,d){if("string"==typeof c&&"undefined"!=typeof b[c])for(var e in b[c].callbacks){var f=b[c].callbacks[e];"function"==typeof f.cb&&f.cb(d),"boolean"==typeof f.once&&f.once===!0&&a.off(c,f.cb)}}};"undefined"!=typeof define&&define.amd?define(function(){"use strict";return new a}):"undefined"!=typeof module&&module.exports?module.exports=new a:window.Bullet=new a}();
!function(a){"use strict";var b,c={updateScore:function(){},requestController:function(){},gameOver:function(){},gameStart:function(){}},d=navigator.userAgent.toLowerCase();/gamee\/[0-9\.]+$/.test(d)||/iphone|ipod|ipad/.test(d)?(c.updateScore=function(a){window.location.href="gamee://score/"+a},c.requestController=function(a){window.location.href="gamee://request-controller/"+a},c.gameOver=function(){window.location.href="gamee://game-over"},c.gameStart=function(){window.location.href="gamee://game-start"}):window.parent&&window.parent.gameeSimulator&&(b=window.parent.gameeSimulator,c.updateScore=function(a){b.updateScore(a)},c.requestController=function(a){b.requestController(a)},c.gameOver=function(){b.gameOver()},c.gameStart=function(){b.gameStart()}),a.$gameeNative=c}(this);var gamee=function(a){"use strict";var b,c={},d=function(){};return Object.defineProperty(c,"score",{get:function(){return b},set:function(c){b=c,a.$gameeNative.updateScore(b)}}),c.gameOver=function(){a.$gameeNative.gameOver()},c.gameStart=function(){a.$gameeNative.gameStart()},c.pause=function(){a.$gameeNative.pause()},c.onResume=d,c.onPause=d,c.onUnpause=d,c.onStop=d,c.onRestart=d,c}(this),gamee=gamee||{};!function(a,b){"use strict";function c(a,b){var c=this;n.call(this),this._pressed=!0,this.key=a,this.keyCode=b,this.on("keydown",function(){c._pressed=!0}),this.on("keyup",function(){c._pressed=!1})}function d(){var a=this;n.call(this),this.buttons={},this.buttonAlias={},this.on("$keydown",function(b){b.button&&a.buttonAlias[b.button]&&(b.button=a.buttonAlias[b.button]),a.trigger("keydown",b)}),this.on("$keyup",function(b){b.button&&a.buttonAlias[b.button]&&(b.button=a.buttonAlias[b.button]),a.trigger("keyup",b)}),this.on("keydown",function(b){b.button&&a.buttons[b.button]&&a.buttons[b.button].trigger("keydown")}),this.on("keyup",function(b){b.button&&a.buttons[b.button]&&a.buttons[b.button].trigger("keyup")})}function e(){d.call(this),this.addButton(new c("button",32))}function f(){d.call(this),this.addButton(new c("left",37)),this.addButton(new c("right",39))}function g(){d.call(this),this.addButton(new c("up",38)),this.addButton(new c("left",37)),this.addButton(new c("right",39)),this.addButton(new c("A",32))}function h(){d.call(this),this.addButton(new c("up",38)),this.addButton(new c("left",37)),this.addButton(new c("right",39)),this.addButton(new c("down",40)),this.addButton(new c("A",32))}function i(){d.call(this),this.addButton(new c("up",38)),this.addButton(new c("left",37)),this.addButton(new c("right",39)),this.addButton(new c("down",40)),this.addButton(new c("A",32)),this.addButton(new c("B",17))}function j(){var a=this;d.call(this),this.on("$touchstart",function(b){a.trigger("touchstart",b)}),this.on("$touchend",function(b){a.trigger("touchend",b)}),this.on("$touchmove",function(b){a.trigger("touchmove",b)}),this.on("$touchleave",function(b){a.trigger("touchleave",b)}),this.on("$touchcancel",function(b){a.trigger("touchcancel",b)})}function k(b,c){var d;if(!m[b])return void console.error("Unsupported controller type, "+b);if(c=c||{},l=new m[b],c.enableKeyboard&&l.enableKeyboard(),c.buttons)for(d in c.buttons)l.remapButton(d,c.buttons[d]);return a.$gameeNative.requestController(b),l}var l,m,n=Bullet.constructor;m={OneButton:e,TwoButtons:f,FourButtons:g,FiveButtons:h,SixButtons:i,Touch:j},c.prototype=Object.create(n.constructor.prototype),c.constructor=c,c.prototype.isDown=function(){return this._pressed},d.prototype=Object.create(n.constructor.prototype),d.constructor=d,d.prototype.addButton=function(a){this.buttons[a.key]=a},d.prototype.enableKeyboard=function(){var a,b,c={},d=this;for(a in this.buttons)b=this.buttons[a],b.keyCode&&(c[b.keyCode]=b);$(window).on("keydown",function(a){var b=c[a.keyCode];b&&(a.preventDefault(),d.trigger("keydown",{button:b.key}))}).on("keyup",function(a){var b=c[a.keyCode];b&&(a.preventDefault(),d.trigger("keyup",{button:b.key}))})},d.prototype.remapButton=function(a,b){this.buttons[a]&&(this.buttonAlias[a]=b.name,this.buttons[b.name]=this.buttons[a],delete this.buttons[a])},e.prototype=Object.create(d.prototype),e.prototype.constructor=e,f.prototype=Object.create(d.prototype),f.prototype.constructor=f,g.prototype=Object.create(d.prototype),g.prototype.constructor=g,h.prototype=Object.create(d.prototype),h.prototype.constructor=h,i.prototype=Object.create(d.prototype),i.prototype.constructor=i,j.prototype=Object.create(SimpleTouchController.prototype),j.prototype.constructor=j,b.controller={requestController:k,trigger:function(){l?l.trigger.apply(l,arguments):console.error("No controller present")}}}(this,gamee);